{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tahaal/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tahaal/Desktop/personalwebsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useRef,useEffect}from'react';import'./TimelineEvent.css';// Import the CSS\nimport imageCompression from'browser-image-compression';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TimelineEvent=function TimelineEvent(_ref){var _ref2;var event=_ref.event;var galleryImages=event.gallery||[];var headerRef=useRef(null);var handleImageUpload=function handleImageUpload(_x){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var imageFile,options,compressedFile;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:imageFile=event.target.files[0];options={maxSizeMB:1,maxWidthOrHeight:1920};_context.prev=2;_context.next=5;return imageCompression(imageFile,options);case 5:compressedFile=_context.sent;console.log('Compressed File Size:',compressedFile.size/1024/1024,'MB');_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log('Image Compression Error:',_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}))).apply(this,arguments);};useEffect(function(){if(headerRef.current){var textWidth=headerRef.current.offsetWidth;headerRef.current.style.marginLeft=\"\".concat(-(textWidth+30),\"px\");}},[event]);return/*#__PURE__*/_jsxs(\"div\",{className:\"TimelineEvent-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"TimelineEvent-arrowBox\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-event\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-header\",ref:headerRef,children:/*#__PURE__*/_jsx(\"span\",{className:\"event-date\",children:event.date})}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-image\",children:/*#__PURE__*/_jsx(\"img\",{src:event.image,alt:event.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline-content\",children:/*#__PURE__*/_jsx(\"h3\",{children:event.title})})]}),/*#__PURE__*/_jsx(\"h2\",{children:event.type}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline-description\",children:/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:event.description.replace(/\\n/g,'<br/>')}})}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline-bottom\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"timeline-gallery\",children:galleryImages.map(function(imgSrc,index){return/*#__PURE__*/_jsx(\"div\",{className:\"image-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"Gallery Image \".concat(index)})},index);})})})})]})]});};export default TimelineEvent;","map":{"version":3,"names":["React","useRef","useEffect","imageCompression","jsx","_jsx","jsxs","_jsxs","TimelineEvent","_ref","_ref2","event","galleryImages","gallery","headerRef","handleImageUpload","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","imageFile","options","compressedFile","wrap","_callee$","_context","prev","next","target","files","maxSizeMB","maxWidthOrHeight","sent","console","log","size","t0","stop","apply","arguments","current","textWidth","offsetWidth","style","marginLeft","concat","className","children","type","accept","onChange","ref","date","src","image","alt","description","title","dangerouslySetInnerHTML","__html","replace","map","imgSrc","index"],"sources":["/Users/tahaal/Desktop/personalwebsite/src/components/TimelineEvent.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport './TimelineEvent.css';  // Import the CSS\nimport imageCompression from 'browser-image-compression';\n\nconst TimelineEvent = ({ event }) => {\n  const galleryImages = event.gallery || [];\n  const headerRef = useRef(null);\n\n  const handleImageUpload = async (event) => {\n    const imageFile = event.target.files[0];\n    const options = {\n      maxSizeMB: 1,\n      maxWidthOrHeight: 1920\n    };\n\n    try {\n      const compressedFile = await imageCompression(imageFile, options);\n      console.log('Compressed File Size:', compressedFile.size / 1024 / 1024, 'MB');\n    } catch (error) {\n      console.log('Image Compression Error:', error);\n    }\n  }\n\n  useEffect(() => {\n    if (headerRef.current) {\n      const textWidth = headerRef.current.offsetWidth;\n      headerRef.current.style.marginLeft = `${- (textWidth + 30)}px`;\n    }\n  }, [event]);\n  \n  return (\n    <div className=\"TimelineEvent-container\">\n      <div className=\"TimelineEvent-arrowBox\"></div>\n      <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n      <div className=\"timeline-event\">\n\n\n        <div className=\"timeline-header\" ref={headerRef}>\n            <span className=\"event-date\">{event.date}</span>\n        </div>\n\n\n\n        <div className=\"timeline-top\"> \n          <div className=\"timeline-image\">\n            <img src={event.image} alt={event.description} />\n          </div>\n\n          <div className=\"timeline-content\">\n            <h3>{event.title}</h3>\n          </div>\n        </div>\n        \n        <h2>{event.type}</h2>\n        \n        <div className=\"timeline-description\">\n          <p dangerouslySetInnerHTML={{ __html: event.description.replace(/\\n/g, '<br/>') }} />\n        </div>\n\n\n\n        \n        <div className=\"timeline-bottom\">\n            <div className=\"image-container\">\n                <div className=\"timeline-gallery\">\n                    {galleryImages.map((imgSrc, index) => (\n                    <div key={index} className=\"image-wrapper\">\n                    <img src={imgSrc} alt={`Gallery Image ${index}`} />\n                    </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n        \n      </div>\n    </div>\n  );\n};\n\nexport default TimelineEvent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}